# 11.创建架构方针

在进行设计之前，需要明确架构方针和对应用程序设计有影响的架构设计部分



###### 1.在线应用策略

系统是由若干应用程序组成的。在这些应用程序中，有一些带有界面的在线应用程序。从维护性的角度来看，在线应用的配置最好不要过多。因此，在开始设计之前，将明确在线应用程序的配置。

![在线应用策略](https://github.com/RNCloudService/higher-process/blob/main/%E4%B8%8A%E6%B5%81%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A12/picture/20.jpg)



###### 2.账单输出方式

帐单输出方式与在线应用有所不同。从简单的输出到PDF输出和Excel输出，都需要应用相应的库来实现。另一方面，由于业务相关的帐单输出量可能很大，如果不进行适当的控制，可能会导致问题。因此，基于需求，需要明确帐单输出的方式。有时我们可能会使用商业报表工具，而有时我们可能会使用开源库自行创建。

![账单输出方式](https://github.com/RNCloudService/higher-process/blob/main/%E4%B8%8A%E6%B5%81%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A12/picture/21.jpg)

1. 输入用于输出的模板ID和数据，然后向Web服务发送请求。
2. 输出服务使用iText创建PDF，将结果保存到公共文件服务器中，并将存储位置作为Web服务的响应返回。
3. 请求源从文件服务器获取帐单，处理它，然后从文件服务器删除该帐单。



###### 3.任务管理与执行策略

近年来的系统趋势是减少批处理，重视数据的新鲜度（从输入到被使用的时间间隔变短）。这是为了实现所谓的“实时管理”。因此，尽管批处理的管理和执行的重要性正在减少，但由于存在系统集成、数据管理、结算处理以及分析数据的创建等，任务管理并不会消失。另外，也有可能存在当时间作为触发器时执行的应用程序。

在批处理中，如果某个应用程序通过cron执行，而另一个应用程序使用另一个调度器处理，那么从运营和维护的角度看，质量会降低。因此，也必须明确任务管理和执行的方法和策略，并将运营设计、批处理设计、日志设计等作为输入。

![任务管理与执行策略](https://github.com/RNCloudService/higher-process/blob/main/%E4%B8%8A%E6%B5%81%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A12/picture/22.png)
